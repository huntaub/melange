<nav class="navbar navbar-inverse navbar-settings" role="navigation">
  <div class="container-fluid">
    <div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="#/">Friends</a></li>
        <li><a href="#/">Following</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="" class="btn btn-info btn-xs btn-default navbar-btn" ng-click="addListDialog = true">
            New List
          </a>
        </li>
        <li>
          <a href="" class="btn btn-success btn-xs btn-default navbar-btn" ng-click="addContactDialog = true">
            Add Friend
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<modal name="'Add a List'" enabled="addListDialog">
  <form ng-submit="createList()">
    <div class="form-group">
      <label for="listName">List Name</label>
      <input id="listName" type="text" class="form-control">
    </div>
    <div class="form-group">
      <label for="listParent">List Parent</label>
      <select class="form-control">
        <option>No Parent</option>
      </select>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn btn-sm btn-primary">Create List</button>
    </div>
  </form>
</modal>

<modal name="'Add a Contact'" enabled="addContactDialog">
  <p>
    Enter the address of the user that you want to add, and select the
    list to add this new contact to. Their profile will automatically
    be downloaded and populated.
  </p>
  <form ng-submit="createContact()">
    <div class="form-group">
      <label for="contactAddress">Address</label>
      <input id="contactAddress" type="text" class="form-control">
      <p class="help-block">
        Remember, only enter addresses of users who also use Melange. This is
        not the same as an email address.
      </p>
    </div>
    <div class="form-group">
      <label for="listParent">Add to List</label>
      <select class="form-control">
        <option>No List</option>
      </select>
    </div>
    <div class="checkbox">
      <label>
        <input type="checkbox" checked> Follow
      </label>
      <p class="help-block">
        By following a contact, you will see his or her public updates in your
        newsfeed without the messages being addressed directly to you.
      </p>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn btn-sm btn-primary" ng-disabled="creatingContact">
        <i ng-show="creatingContact" class="fa fa-circle-o-notch fa-spin"></i>
        Create Contact
      </button>
    </div>
  </form>
</modal>

<div class="row" style="padding-top: 45px;">
  <div class="col-sm-5 col-md-3">
    <h5>Contacts</h5>
    <form role="form">
      <div class="form-group">
        <select class="form-control" ng-model="selectedList">
          <option value="">All</option>
          <option ng-repeat="list in lists" value="{{list}}">{{list}}</option>
        </select>
      </div>
      <div class="form-group">
        <input type="text" placeholder="Search..." class="form-control" ng-model="search">
      </div>
    </form>
    <div class="list-group">
      <a href=""
         class="list-group-item"
         ng-repeat="contact in contacts | filter: {$: search, lists: selectedList} | orderBy:['-favorite', 'name']"
         ng-class="{active: $parent.selectedContact.id == contact.id}"
         ng-click="selectContact(contact)">
         <i class="fa fa-fw" ng-class="{ 'fa-star': contact.favorite }"></i>
         {{ contact.name }}
       </a>
    </div>
  </div>
  <div class="col-sm-7 col-md-9" ng-show="contacts.length != 0">
    <h5>Detail</h5>
    <div class="well">
      <div ng-show="!edit" class="square-window" style="width: 64px; height: 64px;" back-img="{{ selectedContact.profile.avatar | escapeBackground }}"></div>

      <p class="pull-right">
        <!--
        <a href="" ng-click="favorite(selectedContact)" class="btn btn-xs btn-primary"><i class="fa" ng-class="{ 'fa-star': selectedContact.favorite, 'fa-star-o': !selectedContact.favorite }"></i></a>
        <a href="" ng-click="subscribe(selectedContact)" class="btn btn-xs btn-success">{{ selectedContact.subscribed ? 'Unsubscribe' : 'Subscribe' }}</a>
        !-->
        <a href="" ng-click="saveContacts()" class="btn btn-xs btn-default">{{ edit ? 'Save' : 'Edit' }}</a>
      </p>
      <div ng-switch="edit">
        <div ng-switch-when="true">
          <!-- Edit Controls -->
          <div class="form-group">
            <input ng-model="selectedContact.name" class="form-control" placeholder="Full Name">
          </div>
          <p><a href="">Add to Group <i class="fa fa-caret-down"></i></a></p>
          <div class="clear"></div>
          <hr/>
          <h4>Identities <small><a href="">add</a></small></h4>
          <div class="form-group" ng-repeat="identity in selectedContact.addresses">
            <input ng-model="identity.alias" class="form-control" placeholder="john@example.com">
          </div>
          <p class="text-muted">Changes will not be saved until you click save.</p>
        </div>
        <div ng-switch-when="false">
          <!-- Display Controls -->
          <h3 style="margin: 0 0 5px 0;">{{ selectedContact.name }}</h3>
          <p class="text-muted">Family</p>
          <div class="clear"></div>
          <hr/>
          <h4>Identities</h4>
          <p class="text-muted" ng-repeat="identity in selectedContact.addresses">{{ identity.alias }} <small><a href="">copy</a></small></p>
          <hr/>
          <p><a class="text-danger" href="" ng-click="removeContact(selectedContact)">Remove from Contacts</a></p>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-6 col-md-9 text-center" ng-show="contacts.length == 0">
    <h2 class="text-muted">No contacts here yet.</h2>
    <h5 class="text-muted">Add one by clicking the button above.</h5>
  </div>
</div>
